<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SaaS User Adoption & Engagement | Lexi Barry</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React + Recharts (UMD order matters!) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/recharts/umd/Recharts.min.js"></script>
</head>

<body class="bg-gray-50 text-gray-800">
  <div class="max-w-7xl mx-auto p-4">
    <a href="../index.html" class="inline-block bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700">
      ‚Üê Return to Home
    </a>
  </div>

  <div id="root"></div>

  <script>
    window.addEventListener("DOMContentLoaded", function() {
      const e = React.createElement;
      const { useState, useMemo } = React;
      const {
        ResponsiveContainer, LineChart, Line, BarChart, Bar,
        XAxis, YAxis, CartesianGrid, Tooltip, Legend, LabelList
      } = Recharts;

      // ---------- Synthetic Example Data ----------
      function generateData() {
        const months = [
          '2024-01','2024-02','2024-03','2024-04','2024-05','2024-06',
          '2024-07','2024-08','2024-09','2024-10','2024-11','2024-12'
        ];
        const plans = ['Free', 'Pro', 'Enterprise'];
        const regions = ['US', 'EU', 'APAC', 'LATAM'];
        const devices = ['Web', 'Mobile', 'Desktop'];

        const data = [];
        months.forEach((month, idx) => {
          plans.forEach(plan => {
            regions.forEach(region => {
              devices.forEach(device => {
                const base = plan === 'Free' ? 14000 : plan === 'Pro' ? 8000 : 3200;
                const growth = 1 + idx * 0.06 + (Math.random() * 0.08 - 0.04);
                const regionMult = region === 'US' ? 1.2 : region === 'EU' ? 1.0 : region === 'APAC' ? 0.85 : 0.65;
                const deviceMult = device === 'Desktop' ? 1.0 : device === 'Web' ? 1.05 : 0.8;

                const active = Math.round(base * growth * regionMult * deviceMult);
                const churnRate = (plan === 'Free' ? 0.12 : plan === 'Pro' ? 0.07 : 0.035) + (Math.random()*0.02 - 0.01);
                const signups = Math.round(active * (0.08 + Math.random() * 0.04));
                const wk4Retention = (plan === 'Free' ? 64 : plan === 'Pro' ? 78 : 88) + Math.round(Math.random()*8 - 4);

                data.push({
                  month, plan, region, device,
                  active_users: active,
                  new_signups: signups,
                  churn_rate: +(churnRate * 100).toFixed(1),
                  retention_wk4: Math.max(30, Math.min(98, wk4Retention))
                });
              });
            });
          });
        });
        return data;
      }

      // ---------- UI ----------
      function SectionTitle({ children }) {
        return e('h2', { className: 'text-lg font-semibold text-gray-800 mt-6' }, children);
      }

      function KPI({ label, value, sub }) {
        return e('div', { className: 'bg-white rounded-xl shadow p-5 border-l-4 border-indigo-600' },
          e('p', { className: 'text-sm text-gray-600' }, label),
          e('p', { className: 'text-2xl font-bold' }, value),
          sub ? e('p', { className: 'text-xs text-gray-500 mt-1' }, sub) : null
        );
      }

      function Filter({ label, value, options, onChange }) {
        return e('div', { className: 'flex flex-col gap-1' },
          e('label', { className: 'text-xs font-medium text-gray-600' }, label),
          e('select', {
            value,
            onChange: (ev) => onChange(ev.target.value),
            className: 'px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500'
          },
            e('option', { value: 'All' }, 'All'),
            ...options.map(opt => e('option', { key: opt, value: opt }, opt))
          )
        );
      }

      // ---------- App ----------
      function App() {
        const raw = useMemo(() => generateData(), []);
        const planOptions = ['Free', 'Pro', 'Enterprise'];
        const regionOptions = ['US', 'EU', 'APAC', 'LATAM'];
        const deviceOptions = ['Web', 'Mobile', 'Desktop'];
        const monthOptions = [
          '2024-01','2024-02','2024-03','2024-04','2024-05','2024-06',
          '2024-07','2024-08','2024-09','2024-10','2024-11','2024-12'
        ];

        const [filters, setFilters] = useState({ plan: 'All', region: 'All', device: 'All', month: 'All' });

        const filtered = useMemo(() => {
          return raw.filter(d =>
            (filters.plan === 'All' || d.plan === filters.plan) &&
            (filters.region === 'All' || d.region === filters.region) &&
            (filters.device === 'All' || d.device === filters.device) &&
            (filters.month === 'All' || d.month === filters.month)
          );
        }, [raw, filters]);

        const trendData = useMemo(() => {
          const map = {};
          filtered.forEach(d => {
            if (!map[d.month]) map[d.month] = { month: d.month, active_users: 0, new_signups: 0 };
            map[d.month].active_users += d.active_users;
            map[d.month].new_signups += d.new_signups;
          });
          return Object.values(map).sort((a, b) => a.month.localeCompare(b.month));
        }, [filtered]);

        const regionPlan = useMemo(() => {
          const map = {};
          filtered.forEach(d => {
            const key = d.region;
            if (!map[key]) map[key] = { region: d.region, Free: 0, Pro: 0, Enterprise: 0 };
            map[key][d.plan] += d.active_users;
          });
          return Object.values(map);
        }, [filtered]);

        const totals = useMemo(() => {
          const totalUsers = filtered.reduce((s, r) => s + r.active_users, 0);
          const totalSignups = filtered.reduce((s, r) => s + r.new_signups, 0);
          const avgChurn = filtered.length ? (filtered.reduce((s, r) => s + r.churn_rate, 0) / filtered.length) : 0;
          const avgRet = filtered.length ? (filtered.reduce((s, r) => s + r.retention_wk4, 0) / filtered.length) : 0;
          return {
            totalUsers: totalUsers.toLocaleString(),
            totalSignups: totalSignups.toLocaleString(),
            avgChurn: avgChurn.toFixed(1) + '%',
            avgRetention: Math.round(avgRet) + '%'
          };
        }, [filtered]);

        // ---------- Render ----------
        return e('div', { className: 'max-w-7xl mx-auto p-6' },
          e('h1', { className: 'text-3xl font-bold text-indigo-700 mb-2' }, 'üìà SaaS User Adoption & Engagement'),

          e(SectionTitle, null, 'Business Question'),
          e('p', { className: 'text-gray-600 mb-4' },
            'How are users engaging across plans, regions, and devices, and which segments show the biggest opportunities for conversion and retention?'),

          e(SectionTitle, null, 'Thought Process'),
          e('p', { className: 'text-gray-600 mb-4' },
            'Analyzed synthetic adoption and engagement across plans, devices, and geographies. Metrics include acquisition (signups), engagement (active users), and durability (retention).'),

          e(SectionTitle, null, 'Key Metrics Explained'),
          e('ul', { className: 'list-disc pl-6 text-gray-600 mb-4' },
            e('li', null, e('b', null, 'Active Users:'), ' Unique engaged users per segment.'),
            e('li', null, e('b', null, 'New Signups:'), ' First-time registrations.'),
            e('li', null, e('b', null, 'Churn Rate:'), ' % of users not returning.'),
            e('li', null, e('b', null, 'Week-4 Retention:'), ' % of users active after 4 weeks.')
          ),

          e('div', { className: 'bg-white rounded-xl shadow-sm p-4 mb-6' },
            e('div', { className: 'flex gap-4 flex-wrap' },
              e(Filter, { label: 'Plan', value: filters.plan, options: planOptions,
                onChange: (val) => setFilters(prev => ({ ...prev, plan: val })) }),
              e(Filter, { label: 'Region', value: filters.region, options: regionOptions,
                onChange: (val) => setFilters(prev => ({ ...prev, region: val })) }),
              e(Filter, { label: 'Device', value: filters.device, options: deviceOptions,
                onChange: (val) => setFilters(prev => ({ ...prev, device: val })) }),
              e(Filter, { label: 'Month', value: filters.month, options: monthOptions,
                onChange: (val) => setFilters(prev => ({ ...prev, month: val })) })
            )
          ),

          e(SectionTitle, null, 'Main Takeaways'),
          e('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-2' },
            e(KPI, { label: 'Active Users', value: totals.totalUsers }),
            e(KPI, { label: 'New Signups', value: totals.totalSignups }),
            e(KPI, { label: 'Avg Churn', value: totals.avgChurn }),
            e(KPI, { label: 'Week-4 Retention', value: totals.avgRetention })
          ),
          e('p', { className: 'text-gray-500 italic mb-8' },
            'These metrics summarize the core insights visualized below.'
          ),

          // Line Chart
          e('div', { className: 'bg-white rounded-xl shadow p-5 mb-6' },
            e('h3', { className: 'font-semibold mb-3' }, 'User Growth Trend (Active vs Signups)'),
            e(ResponsiveContainer, { width: '100%', height: 320 },
              e(LineChart, { data: trendData },
                e(CartesianGrid, { strokeDasharray: '3 3' }),
                e(XAxis, { dataKey: 'month' }),
                e(YAxis, { allowDecimals: false }),
                e(Tooltip, null), e(Legend, null),
                e(Line, { dataKey: 'active_users', name: 'Active Users', stroke: '#6366f1', strokeWidth: 2 },
                  e(LabelList, { dataKey: 'active_users', position: 'top' })),
                e(Line, { dataKey: 'new_signups', name: 'New Signups', stroke: '#10b981', strokeWidth: 2 },
                  e(LabelList, { dataKey: 'new_signups', position: 'top' }))
              )
            ),
            e('div', { className: 'mt-3 bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded-r-lg text-sm text-indigo-900' },
              e('b', null, 'Insight: '),
              'Growth trends show strong adoption alignment ‚Äî increased signups are translating to consistent engagement.'
            )
          ),

          // Bar Chart
          e('div', { className: 'bg-white rounded-xl shadow p-5' },
            e('h3', { className: 'font-semibold mb-3' }, 'Users by Region & Plan'),
            e(ResponsiveContainer, { width: '100%', height: 320 },
              e(BarChart, { data: regionPlan },
                e(CartesianGrid, { strokeDasharray: '3 3' }),
                e(XAxis, { dataKey: 'region' }),
                e(YAxis, { allowDecimals: false }),
                e(Tooltip, null), e(Legend, null),
                e(Bar, { dataKey: 'Free', fill: '#94a3b8' },
                  e(LabelList, { dataKey: 'Free', position: 'top' })),
                e(Bar, { dataKey: 'Pro', fill: '#3b82f6' },
                  e(LabelList, { dataKey: 'Pro', position: 'top' })),
                e(Bar, { dataKey: 'Enterprise', fill: '#8b5cf6' },
                  e(LabelList, { dataKey: 'Enterprise', position: 'top' }))
              )
            ),
            e('div', { className: 'mt-3 bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded-r-lg text-sm text-indigo-900' },
              e('b', null, 'Insight: '),
              'US and EU lead active usage. Localization and mobile optimization may expand adoption in APAC.'
            )
          ),

          e('footer', { className: 'bg-gray-900 text-white text-center py-8 mt-12' },
            e('p', { className: 'mb-2 text-lg font-semibold' }, 'Lexi Barry ‚Äî Product-Minded Data Leader'),
            e('p', { className: 'text-sm' },
              'üì´ ', e('a', { href: 'mailto:lexi.barry@outlook.com', className: 'underline' }, 'lexi.barry@outlook.com'),
              ' | LinkedIn: ', e('a', { href: 'https://linkedin.com/in/lexi-barry', className: 'underline' }, 'linkedin.com/in/lexi-barry'),
              ' | GitHub: ', e('a', { href: 'https://github.com/lexibarry', className: 'underline' }, 'github.com/lexibarry')
            ),
            e('div', { className: 'max-w-4xl mx-auto mt-6 text-xs text-gray-400 leading-relaxed px-6' },
              e('p', null, e('b', null, 'Confidentiality:'), ' All datasets, analyses, and visuals are synthetic and created by Lexi Barry for demonstration. No employer or client data is used.'),
              e('p', null, e('b', null, 'License:'), ' MIT License ‚Äî you may reuse this structure with attribution.')
            ),
            e('p', { className: 'mt-4 text-xs text-gray-500' }, '¬© 2025 Lexi Barry ‚Äî Data Storytelling & Analytics Portfolio')
          )
        );
      }

      ReactDOM.createRoot(document.getElementById('root')).render(e(App));
    });
  </script>
</body>
</html>
