<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SaaS User Adoption & Engagement | Lexi Barry</title>

  <!-- Tailwind for styling -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- ‚úÖ React + Recharts (via jsDelivr - works on GitHub Pages) -->
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/recharts@2.12.5/umd/Recharts.min.js"></script>
</head>

<body class="bg-gray-50 text-gray-800">
  <div class="max-w-7xl mx-auto p-4">
    <a href="../index.html" class="inline-block bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700">
      ‚Üê Return to Home
    </a>
  </div>

  <div id="root"></div>

  <script>
    window.addEventListener("DOMContentLoaded", function () {
      const e = React.createElement;
      const { useState, useMemo } = React;
      const {
        ResponsiveContainer, LineChart, Line, BarChart, Bar,
        XAxis, YAxis, CartesianGrid, Tooltip, Legend, LabelList
      } = Recharts;

      // -------- Synthetic Example Data --------
      function generateData() {
        const months = [
          '2024-01','2024-02','2024-03','2024-04','2024-05','2024-06',
          '2024-07','2024-08','2024-09','2024-10','2024-11','2024-12'
        ];
        const plans = ['Free','Pro','Enterprise'];
        const regions = ['US','EU','APAC','LATAM'];
        const devices = ['Web','Mobile','Desktop'];
        const data = [];

        months.forEach((m, i) => {
          plans.forEach(p => {
            regions.forEach(r => {
              devices.forEach(d => {
                const base = p==='Free'?14000:p==='Pro'?8000:3200;
                const growth = 1+i*0.06+(Math.random()*0.08-0.04);
                const regionMult = r==='US'?1.2:r==='EU'?1:r==='APAC'?0.85:0.7;
                const deviceMult = d==='Desktop'?1:d==='Web'?1.05:0.8;
                const active = Math.round(base*growth*regionMult*deviceMult);
                const churn = (p==='Free'?0.12:p==='Pro'?0.07:0.035)+(Math.random()*0.02-0.01);
                const signups = Math.round(active*(0.08+Math.random()*0.04));
                const retention = Math.max(40,Math.min(98,(p==='Free'?64:p==='Pro'?78:88)+Math.round(Math.random()*8-4)));
                data.push({
                  month:m,plan:p,region:r,device:d,
                  active_users:active,new_signups:signups,
                  churn_rate:+(churn*100).toFixed(1),
                  retention_wk4:retention
                });
              });
            });
          });
        });
        return data;
      }

      // -------- Components --------
      function KPI({label,value}) {
        return e('div',{className:'bg-white rounded-xl shadow p-5 border-l-4 border-indigo-600'},
          e('p',{className:'text-sm text-gray-600'},label),
          e('p',{className:'text-2xl font-bold'},value)
        );
      }

      function Filter({label,value,options,onChange}) {
        return e('div',{className:'flex flex-col gap-1'},
          e('label',{className:'text-xs font-medium text-gray-600'},label),
          e('select',{
              value,onChange:(ev)=>onChange(ev.target.value),
              className:'px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500'
            },
            e('option',{value:'All'},'All'),
            ...options.map(opt=>e('option',{key:opt,value:opt},opt))
          )
        );
      }

      // -------- App --------
      function App() {
        const raw = useMemo(() => generateData(), []);
        const [filters,setFilters] = useState({plan:'All',region:'All',device:'All',month:'All'});
        const plans=['Free','Pro','Enterprise'],regions=['US','EU','APAC','LATAM'],
              devices=['Web','Mobile','Desktop'],months=[
                '2024-01','2024-02','2024-03','2024-04','2024-05','2024-06',
                '2024-07','2024-08','2024-09','2024-10','2024-11','2024-12'];

        const filtered = useMemo(()=>raw.filter(d=>
          (filters.plan==='All'||d.plan===filters.plan)&&
          (filters.region==='All'||d.region===filters.region)&&
          (filters.device==='All'||d.device===filters.device)&&
          (filters.month==='All'||d.month===filters.month)
        ),[raw,filters]);

        const trendData = useMemo(()=>{
          const map={};
          filtered.forEach(d=>{
            if(!map[d.month])map[d.month]={month:d.month,active_users:0,new_signups:0};
            map[d.month].active_users+=d.active_users;
            map[d.month].new_signups+=d.new_signups;
          });
          return Object.values(map).sort((a,b)=>a.month.localeCompare(b.month));
        },[filtered]);

        const regionPlan = useMemo(()=>{
          const map={};
          filtered.forEach(d=>{
            if(!map[d.region])map[d.region]={region:d.region,Free:0,Pro:0,Enterprise:0};
            map[d.region][d.plan]+=d.active_users;
          });
          return Object.values(map);
        },[filtered]);

        const totals = useMemo(()=>{
          const totalUsers=filtered.reduce((s,r)=>s+r.active_users,0);
          const totalSignups=filtered.reduce((s,r)=>s+r.new_signups,0);
          const avgChurn=filtered.length?(filtered.reduce((s,r)=>s+r.churn_rate,0)/filtered.length):0;
          const avgRet=filtered.length?(filtered.reduce((s,r)=>s+r.retention_wk4,0)/filtered.length):0;
          return {
            totalUsers:totalUsers.toLocaleString(),
            totalSignups:totalSignups.toLocaleString(),
            avgChurn:avgChurn.toFixed(1)+'%',
            avgRetention:Math.round(avgRet)+'%'
          };
        },[filtered]);

        return e('div',{className:'max-w-7xl mx-auto p-6'},
          e('h1',{className:'text-3xl font-bold text-indigo-700 mb-2'},'üìà SaaS User Adoption & Engagement'),
          e('p',{className:'text-gray-600 mb-4 italic'},"‚ÄúI have no special talent. I am only passionately curious.‚Äù ‚Äì Albert Einstein"),

          e('p',{className:'text-gray-700 mb-6'},
            "Business Question: How are users engaging across plans, regions, and devices, and which segments show opportunities for conversion and retention?"
          ),

          e('div',{className:'bg-white rounded-xl shadow-sm p-4 mb-6'},
            e('div',{className:'flex gap-4 flex-wrap'},
              e(Filter,{label:'Plan',value:filters.plan,options:plans,onChange:(val)=>setFilters({...filters,plan:val})}),
              e(Filter,{label:'Region',value:filters.region,options:regions,onChange:(val)=>setFilters({...filters,region:val})}),
              e(Filter,{label:'Device',value:filters.device,options:devices,onChange:(val)=>setFilters({...filters,device:val})}),
              e(Filter,{label:'Month',value:filters.month,options:months,onChange:(val)=>setFilters({...filters,month:val})})
            )
          ),

          e('h2',{className:'text-lg font-semibold text-gray-800 mb-4'},'Main Takeaways'),
          e('div',{className:'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-2'},
            e(KPI,{label:'Active Users',value:totals.totalUsers}),
            e(KPI,{label:'New Signups',value:totals.totalSignups}),
            e(KPI,{label:'Avg Churn',value:totals.avgChurn}),
            e(KPI,{label:'Week-4 Retention',value:totals.avgRetention})
          ),
          e('p',{className:'text-gray-500 italic mb-8'},"These summarize engagement and retention trends visualized below."),

          e('div',{className:'bg-white rounded-xl shadow p-5 mb-6'},
            e('h3',{className:'font-semibold mb-3'},'User Growth Trend (Active vs Signups)'),
            e(ResponsiveContainer,{width:'100%',height:320},
              e(LineChart,{data:trendData},
                e(CartesianGrid,{strokeDasharray:'3 3'}),
                e(XAxis,{dataKey:'month'}),
                e(YAxis,{allowDecimals:false}),
                e(Tooltip,null),e(Legend,null),
                e(Line,{dataKey:'active_users',stroke:'#6366f1',strokeWidth:2},
                  e(LabelList,{dataKey:'active_users',position:'top'})),
                e(Line,{dataKey:'new_signups',stroke:'#10b981',strokeWidth:2},
                  e(LabelList,{dataKey:'new_signups',position:'top'}))
              )
            ),
            e('div',{className:'mt-3 bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded-r-lg text-sm text-indigo-900'},
              e('b',null,'Insight:'),' Signups are steadily converting to engagement, reflecting strong product-market alignment.'
            )
          ),

          e('div',{className:'bg-white rounded-xl shadow p-5'},
            e('h3',{className:'font-semibold mb-3'},'Users by Region & Plan'),
            e(ResponsiveContainer,{width:'100%',height:320},
              e(BarChart,{data:regionPlan},
                e(CartesianGrid,{strokeDasharray:'3 3'}),
                e(XAxis,{dataKey:'region'}),
                e(YAxis,{allowDecimals:false}),
                e(Tooltip,null),e(Legend,null),
                e(Bar,{dataKey:'Free',fill:'#94a3b8'},
                  e(LabelList,{dataKey:'Free',position:'top'})),
                e(Bar,{dataKey:'Pro',fill:'#3b82f6'},
                  e(LabelList,{dataKey:'Pro',position:'top'})),
                e(Bar,{dataKey:'Enterprise',fill:'#8b5cf6'},
                  e(LabelList,{dataKey:'Enterprise',position:'top'}))
              )
            ),
            e('div',{className:'mt-3 bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded-r-lg text-sm text-indigo-900'},
              e('b',null,'Insight:'),' US and EU lead usage. Consider local campaigns to lift APAC engagement.'
            )
          ),

          e('footer',{className:'bg-gray-900 text-white text-center py-8 mt-12'},
            e('p',{className:'mb-2 text-lg font-semibold'},'Lexi Barry ‚Äî Product-Minded Data Leader'),
            e('p',{className:'text-sm'},'üì´ ',
              e('a',{href:'mailto:lexi.barry@outlook.com',className:'underline'},'lexi.barry@outlook.com'),
              ' | LinkedIn: ',
              e('a',{href:'https://linkedin.com/in/lexi-barry',className:'underline'},'linkedin.com/in/lexi-barry'),
              ' | GitHub: ',
              e('a',{href:'https://github.com/lexibarry',className:'underline'},'github.com/lexibarry')
            ),
            e('div',{className:'max-w-4xl mx-auto mt-6 text-xs text-gray-400 leading-relaxed px-6'},
              e('p',null,e('b',null,'Confidentiality:'),' All datasets, analyses, and visuals are synthetic and created by Lexi Barry for demonstration. No employer or client data is used.'),
              e('p',null,e('b',null,'License:'),' MIT License ‚Äî you may reuse this structure with attribution.')
            ),
            e('p',{className:'mt-4 text-xs text-gray-500'},'¬© 2025 Lexi Barry ‚Äî Data Storytelling & Analytics Portfolio')
          )
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(e(App));
    });
  </script>
</body>
</html>
